# Raspisanie-site

Веб-приложение для автоматизации расписания дежурств с поддержкой ролей, прав, аниме-интерфейсом и адаптацией под мобильные устройства.

## Возможности

- Хранение данных о людях, расписании, исключениях, замещениях, посещаемости и администраторах.
- Гибкая настройка количества слотов (дежурных) на день.
- Управление списком людей: добавление, редактирование, активация/деактивация, удаление.
- Исключения (отпуска, невозможность дежурить) и постоянные выходные.
- Замена дежурного с логированием причины и действия.
- Отметка посещаемости.
- Ведение логов всех действий.
- Админ-панель с отдельным входом, настройками и просмотром логов.
- Публичная страница для просмотра расписания.
- Система ролей и прав для администраторов (группы, права, назначение).
- Аниме-стилизация интерфейса, адаптация под мобильные устройства.
- Поддержка двух СУБД: ```SQLite (Убрана)``` и MySQL.

## Быстрый старт

1. Установите зависимости:
   ```sh
   npm init -y
   npm install express dayjs cookie-session bcrypt dotenv sqlite3 mysql2
2. Создайте и настройте файл .env:

```
PORT=3000
HOST=0.0.0.0
SESSION_KEY=supersecret
DB_TYPE=mysql          
MYSQL_HOST=localhost
MYSQL_USER=root
MYSQL_PASSWORD=yourpass
MYSQL_DATABASE=dutyscheduler
ADMIN_USER=admin
ADMIN_PASSWORD=admin123
```
3. Запустите сервер

```sh
node server.js
```

4. Откройте в браузере: 

``` 
http://localhost:3000
```
Для MySQL укажите в .env:

```
DB_TYPE=mysql
```
и заполните параметры подключения.





Основные страницы
```
/ — публичное расписание.
/admin — панель администратора.
/admin/people — управление людьми.
/admin/schedule — календарь дежурств.
/admin/exceptions — исключения.
/admin/weekday-offs — постоянные выходные.
/admin/settings — настройки.
/admin/logs — логи действий.
/admin/admins — управление администраторами.
/admin/roles — управление группами (ролями) и их правами.
```


Система ролей и прав
Все права и группы настраиваются через /admin/roles.
Назначение ролей администраторам — через /admin/admins → "Права".

Безопасность
Все настройки и доступы контролируются через переменные .env и систему прав.
Отключённый админ не может войти и выполнять действия.

Адаптация и стили
Интерфейс стилизован в аниме-тематике.
Полная адаптация под мобильные устройства.



Требования
Node.js 18+
npm
Для MySQL: установленный сервер MySQL и созданная база.


Лицензия
MIT
